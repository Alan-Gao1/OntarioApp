import{_ as h,o as u,c as d,a as s,t,i as c,l as p,F as v,h as _,v as m}from"./index-07c2c7d4.js";const y={data(){return{university:{},supplimental:"Loading...",email:sessionStorage.getItem("Email"),user:{},uniIndex:0}},methods:{setSupp(){let o="https://ontarioapp-backend.onrender.com/supplimental";this.axios.get(o,{params:{uniId:this.university.UniversityID}}).then(i=>{this.supplimental=i.data})},getUser(){let o="https://ontarioapp-backend.onrender.com/user";this.axios.get(o,{params:{userEmail:this.email}}).then(i=>{this.user=i.data,this.uniIndex=i.data.Universities.findIndex(r=>r.Id==this.$route.query.id),this.uniIndex==-1&&(this.uniIndex=this.user.Universities.length,this.user.Universities.push({Id:this.$route.query.id,Name:this.university.Name,Logo:this.university.Logo,Site:this.university.Site,Essay:"",Program:"",Submitted:!1}),console.log(this.user.Universities))})},submit(){this.isNotValid()||window.confirm(`Are you sure you are ready to submit? ${this.university.Name} will receive your application as it is now.`)&&(this.user.Universities[this.uniIndex].Submitted=!0,this.save(),this.$router.push("/dashboard"))},save(){let o="https://ontarioapp-backend.onrender.com/updateuser";this.axios.post(o,{newUser:this.user})},isNotValid(){return this.user.Universities[this.uniIndex].Essay.length<10||this.user.Universities[this.uniIndex]==""}},created(){let o="https://ontarioapp-backend.onrender.com/universities",i="https://ontarioapp-backend.onrender.com/mock",r=parseInt(this.$route.query.id);r?this.axios.get(o).then(l=>{this.university=l.data[r],this.setSupp(),this.getUser()}):this.axios.get(i).then(l=>{this.university=l.data,this.setSupp(),this.getUser()})}},x={class:"section"},b={class:"school-information"},f={class:"title"},g={class:"columns"},U={class:"column"},I={class:"contact"},S=s("div",{class:"subtitle"}," Contact ",-1),k={class:"phone"},w={class:"email"},E={class:"postal-code"},A=["href"],N={class:"column"},P={class:"fees"},V=s("div",{class:"subtitle"}," Fees ",-1),L=s("p",{class:"application-fee"},"$50 non-refundable application fee",-1),D={class:"deposit"},q={class:"tuition-cost"},B={class:"select-program mt-6"},C=s("div",{class:"title is-4"}," Select Program ",-1),F={class:"program-dropdown"},M={class:"field"},T={class:"control"},W={class:"select"},j=["value"],z={class:"supplemental mt-6"},G=s("div",{class:"title is-4"}," Supplemental Application ",-1),H={class:"subtitle is-6"},J={class:"save-submit mt-4"},K={class:"columns"},O={class:"column"},Q={class:"column"},R=["disabled"];function X(o,i,r,l,e,a){return u(),d("section",x,[s("div",b,[s("div",f,t(e.university.Name),1),s("div",g,[s("div",U,[s("div",I,[S,s("p",k,"Phone: "+t(e.university.Phone),1),s("p",w,"Email: "+t(e.university.Email),1),s("p",E,"Address: "+t(e.university.Address[0])+", "+t(e.university.Address[1])+", "+t(e.university.Address[2]),1),s("p",null,[s("a",{href:e.university.WebsiteLink},"University website",8,A)])])]),s("div",N,[s("div",P,[V,L,s("p",D,t(e.university.Deposit)+" deposit",1),s("p",q,t(e.university.AvgTuition)+" tuition first year average",1)])])])]),s("div",B,[C,s("div",F,[s("div",M,[s("div",T,[s("div",W,[c(s("select",{"onUpdate:modelValue":i[0]||(i[0]=n=>e.user.Universities[e.uniIndex].Program=n)},[(u(!0),d(v,null,_(e.university.Programs,n=>(u(),d("option",{key:n,value:n},t(n),9,j))),128))],512),[[p,e.user.Universities[e.uniIndex].Program]])])])])])]),s("div",z,[G,s("div",H,t(e.supplimental)+" Max 2000 characters.",1),c(s("textarea",{class:"textarea",rows:"20",placeholder:"Type here",maxlength:"2000","onUpdate:modelValue":i[1]||(i[1]=n=>e.user.Universities[e.uniIndex].Essay=n)},null,512),[[m,e.user.Universities[e.uniIndex].Essay]])]),s("div",J,[s("div",K,[s("div",O,[s("button",{class:"button is-primary is-fullwidth",onClick:i[2]||(i[2]=n=>a.save())},"Save")]),s("div",Q,[s("button",{class:"button is-info is-fullwidth",disabled:a.isNotValid(),onClick:i[3]||(i[3]=n=>a.submit())},"Submit",8,R)])])])])}const Z=h(y,[["render",X]]);export{Z as default};
