import{_ as h,o as a,c as d,a as s,t,i as c,l as v,F as p,h as _,v as m}from"./index-a600d546.js";const y={data(){return{university:{},supplimental:"Loading...",email:sessionStorage.getItem("Email"),user:{},uniIndex:0}},methods:{setSupp(){let o="http://127.0.0.1:8000/supplimental";this.axios.get(o,{params:{uniId:this.university.UniversityID}}).then(e=>{this.supplimental=e.data})},getUser(){let o="http://127.0.0.1:8000/user";this.axios.get(o,{params:{userEmail:this.email}}).then(e=>{this.user=e.data,this.uniIndex=e.data.Universities.findIndex(r=>r.Id==this.$route.query.id),this.uniIndex==-1&&(this.uniIndex=this.user.Universities.length,this.user.Universities.push({Id:this.$route.query.id,Name:this.university.Name,Logo:this.university.Logo,Site:this.university.Site,Essay:"",Program:"",Submitted:!1}),console.log(this.user.Universities))})},submit(){this.isNotValid()||window.confirm(`Are you sure you are ready to submit? ${this.university.Name} will receive your application as it is now.`)&&(this.user.Universities[this.uniIndex].Submitted=!0,this.save(),this.$router.push("/dashboard"))},save(){let o="http://127.0.0.1:8000/updateuser";this.axios.post(o,{newUser:this.user})},isNotValid(){return this.user.Universities[this.uniIndex].Essay.length<10||this.user.Universities[this.uniIndex]==""}},created(){let o="http://127.0.0.1:8000/universities",e="http://127.0.0.1:8000/mock",r=parseInt(this.$route.query.id);r?this.axios.get(o).then(l=>{this.university=l.data[r],this.setSupp(),this.getUser()}):this.axios.get(e).then(l=>{this.university=l.data,this.setSupp(),this.getUser()})}},x={class:"section"},f={class:"school-information"},g={class:"title"},b={class:"columns"},U={class:"column"},I={class:"contact"},S=s("div",{class:"subtitle"}," Contact ",-1),w={class:"phone"},E={class:"email"},k={class:"postal-code"},A=["href"],N={class:"column"},P={class:"fees"},V=s("div",{class:"subtitle"}," Fees ",-1),L=s("p",{class:"application-fee"},"$50 non-refundable application fee",-1),D={class:"deposit"},q={class:"tuition-cost"},B={class:"select-program mt-6"},C=s("div",{class:"title is-4"}," Select Program ",-1),F={class:"program-dropdown"},M={class:"field"},T={class:"control"},W={class:"select"},j=["value"],z={class:"supplemental mt-6"},G=s("div",{class:"title is-4"}," Supplemental Application ",-1),H={class:"subtitle is-6"},J={class:"save-submit mt-4"},K={class:"columns"},O={class:"column"},Q={class:"column"},R=["disabled"];function X(o,e,r,l,i,u){return a(),d("section",x,[s("div",f,[s("div",g,t(i.university.Name),1),s("div",b,[s("div",U,[s("div",I,[S,s("p",w,"Phone: "+t(i.university.Phone),1),s("p",E,"Email: "+t(i.university.Email),1),s("p",k,"Address: "+t(i.university.Address[0])+", "+t(i.university.Address[1])+", "+t(i.university.Address[2]),1),s("p",null,[s("a",{href:i.university.WebsiteLink},"University website",8,A)])])]),s("div",N,[s("div",P,[V,L,s("p",D,t(i.university.Deposit)+" deposit",1),s("p",q,t(i.university.AvgTuition)+" tuition first year average",1)])])])]),s("div",B,[C,s("div",F,[s("div",M,[s("div",T,[s("div",W,[c(s("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>i.user.Universities[i.uniIndex].Program=n)},[(a(!0),d(p,null,_(i.university.Programs,n=>(a(),d("option",{key:n,value:n},t(n),9,j))),128))],512),[[v,i.user.Universities[i.uniIndex].Program]])])])])])]),s("div",z,[G,s("div",H,t(i.supplimental)+" Max 2000 characters.",1),c(s("textarea",{class:"textarea",rows:"20",placeholder:"Type here",maxlength:"2000","onUpdate:modelValue":e[1]||(e[1]=n=>i.user.Universities[i.uniIndex].Essay=n)},null,512),[[m,i.user.Universities[i.uniIndex].Essay]])]),s("div",J,[s("div",K,[s("div",O,[s("button",{class:"button is-primary is-fullwidth",onClick:e[2]||(e[2]=n=>u.save())},"Save")]),s("div",Q,[s("button",{class:"button is-info is-fullwidth",disabled:u.isNotValid(),onClick:e[3]||(e[3]=n=>u.submit())},"Submit",8,R)])])])])}const Z=h(y,[["render",X]]);export{Z as default};
